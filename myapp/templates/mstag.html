{% extends 'base.html' %}
{% load static %}

{% block title %}Ezz Eldin Ahmed | MSTAG{% endblock %}

{% block extra_head %}
    <!-- SEO Meta Tags -->
    <meta name="title" content="Ezz Eldin Ahmed | MSTAG">
    <meta name="description" content="Custom tools and data-driven projects by Ezz Eldin Ahmed — a statistics major passionate about automation, machine learning, and full-stack development.">
    <meta name="keywords" content="Ezz Eldin Ahmed, Data Science, Streamlit, Django, Python Developer, Automation, Machine Learning, Statistics, Statistical Modeling">
    <meta name="author" content="Ezz Eldin Ahmed">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ezzio.vercel.app/">
    <meta property="og:title" content="Ezz Eldin Ahmed | MSTAG">
    <meta property="og:description" content="Explore real-world projects, custom-built tools, and end-to-end data apps built by Ezz Eldin Ahmed.">
    <meta property="og:image" content="https://ezzio.vercel.app/static/img/preview.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ezzio.vercel.app/">
    <meta name="twitter:title" content="Ezz Eldin Ahmed | MSTAG">
    <meta name="twitter:description" content="Custom tools and data-driven projects by Ezz Eldin Ahmed — a statistics major passionate about automation, machine learning, and full-stack development.">
    <meta name="twitter:image" content="https://ezzio.vercel.app/static/img/preview.png">
{% endblock %}

{% block content %}
<!-- Page Header Start --> 
<div class="container-fluid py-5 my-5">
    <div class="container text-center py-5">
        <h1 class="display-4 mb-4">M.S.T.A.G.</h1>
        <a 
            class="text-primary d-block mt-2" 
            data-bs-toggle="collapse" 
            href="#mstag-info" 
            role="button" 
            aria-expanded="false" 
            aria-controls="mstag-info"
        >
            <small><i class="fas fa-info-circle me-1"></i> What’s MSTAG?</small>
        </a>
        <div class="collapse mt-3" id="mstag-info">
            <div class="alert alert-light border rounded shadow-sm text-start">
                <p class="mb-0">
                    <strong>MSTAG</strong> is an invitation. <br><br>
                    Not to a brand. Not to a movement.  
                    But to a space that honors one thing: <strong>interesting work</strong>.
                    <br><br>
                    Essays, games, tools, experiments, football, politics, tech, or something stranger.  
                    If it sparks curiosity, if it refuses to sit still, if it <em>matters</em> to the one who made it —  
                    it belongs here.
                    <br><br>
                    This is where half-finished ideas find oxygen.  
                    Where passion beats polish.  
                    Where you build something wild, and we say, <em>“Yes, show us.”</em>
                    <br><br>
                    <strong>MSTAG</strong> is for those who think too much, feel too deeply, and make without permission.  
                    And it’s only just getting started.
                </p>
            </div>
        </div>
        <p class="fs-5y">Articles and projects from brilliant minds that refuse to stay still.</p>
    </div>
</div>
<!-- Page Header End -->

<!-- Blog Start -->
<div class="container-fluid blog py-5 my-5">
    <div class="row g-5 justify-content-center">
        {% for article in articles %}
        <div class="col-lg-6 col-xl-4 wow fadeIn" data-wow-delay=".{{ forloop.counter }}s">
            <div class="blog-item position-relative bg-light rounded overflow-hidden shadow-sm">

                <!-- Article Image -->
                <img src="{{ article.image }}" class="img-fluid w-100 rounded-top" alt="{{ article.title }}">

                <!-- Topic Badge -->
                <span class="position-absolute px-3 py-2 bg-primary text-white rounded" style="top: 10px; left: 10px; font-size: 0.8rem;">
                    {{ article.topic|title }}
                </span>

                <!-- Date Badge -->
                <span class="position-absolute px-3 py-2 bg-dark text-white rounded" style="top: 10px; right: 10px; font-size: 0.8rem;">
                    {{ article.date_published|date:"d M" }}
                </span>

                <!-- Content -->
                <div class="p-4 text-center">
                
                    <!-- Author Image (Clean Circle, No Squeeze) -->
                    <div style="width: 120px; height: 120px; overflow: hidden; border-radius: 50%; margin: 0 auto;" class="mb-3 border border-4 border-white">
                        <img src="{{ article.author_image }}" alt="{{ article.author }}" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                
                    <h4 class="fw-bold mb-2">{{ article.title }}</h4>
                    <h6 class="text-muted mb-2">By {{ article.author }}</h6>
                    <p class="mb-3">{{ article.description }}</p>
                    <a href="{% url 'article_detail' slug=article.slug %}" class="btn btn-outline-primary rounded-pill">Read More</a>
                </div>

                <!-- Share + Comment -->
                <div class="blog-coment d-flex justify-content-between px-4 py-2 border bg-primary rounded-bottom">
                    <a href="#" class="text-white" onclick="toggleShare('{{ article.slug }}'); return false;">
                        <small><i class="fas fa-share me-2 text-secondary"></i>Share</small>
                    </a>
                    <a href="{% url 'article_detail' slug=article.slug %}#comments" class="text-white">
                        <small><i class="fa fa-comments me-2 text-secondary"></i>Comments</small>
                    </a>
                </div>

                <!-- Hidden Share Panel -->
                <div id="share-{{ article.slug }}" class="d-none px-4 py-2 text-center">
                    {% url 'article_detail' slug=article.slug as article_path %}
                    {% with full_url=request.scheme|add:'://'|add:request.get_host|add:article_path %}
                    
                    <!-- Facebook Share -->
                    <a href="https://www.facebook.com/sharer/sharer.php?u={{ full_url }}" 
                       target="_blank" 
                       class="btn btn-sm btn-primary me-2">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                
                    <!-- Twitter Share -->
                    <a href="https://twitter.com/intent/tweet?url={{ full_url }}" 
                       target="_blank" 
                       class="btn btn-sm btn-info me-2">
                        <i class="fab fa-twitter"></i>
                    </a>
                
                    <!-- WhatsApp Share -->
                    <a href="https://wa.me/?text={{ full_url }}" 
                       target="_blank" 
                       class="btn btn-sm btn-success me-2">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                
                    <!-- Telegram Share -->
                    <a href="https://t.me/share/url?url={{ full_url }}" 
                       target="_blank" 
                       class="btn btn-sm btn-info me-2">
                        <i class="fab fa-telegram-plane"></i>
                    </a>
                
                    <!-- Copy to Clipboard -->
                    <button class="btn btn-sm btn-dark" onclick="copyLink('{{ full_url }}')">
                        <i class="fas fa-link"></i> Copy
                    </button>
                    
                    {% endwith %}
                </div>
            {% endfor %}
        </div> 
    </div> 
<!-- Blog End -->
{% endblock %}

{% block extra_js %}
<script>
function toggleShare(slug) {
    const el = document.getElementById('share-' + slug);
    el.classList.toggle('d-none');
}

function copyLink(url) {
    navigator.clipboard.writeText(url).then(() => {
        alert("Link copied to clipboard!");
    });
}
</script>
{% endblock %}
